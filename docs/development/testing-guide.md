# 통합 테스트 가이드

> 픽셀부스터 전체 기능 테스트 및 검증 가이드

**작성일**: 2025-11-10
**버전**: v0.1.0
**대상**: Phase 5 완료 후 통합 테스트

---

## 📋 목차

1. [테스트 환경 준비](#테스트-환경-준비)
2. [기능별 테스트 시나리오](#기능별-테스트-시나리오)
3. [통합 테스트 체크리스트](#통합-테스트-체크리스트)
4. [자동화된 테스트](#자동화된-테스트)
5. [성능 테스트](#성능-테스트)
6. [버그 리포트 템플릿](#버그-리포트-템플릿)

---

## 테스트 환경 준비

### 1. 빌드 파일 준비

```bash
# 프로젝트 디렉토리로 이동
cd F:\The kadang\code_project\claude\thekadang_pixelbooster

# Windows 빌드 확인
dir dist-electron

# 예상 파일:
# - 픽셀부스터 Setup 0.1.0.exe (설치 파일)
# - latest.yml (자동 업데이트 메타데이터)
# - win-unpacked/ (압축 해제된 실행 파일)
```

### 2. 테스트 환경

#### 권장 테스트 환경
- **OS**: Windows 10/11 (64-bit)
- **메모리**: 최소 4GB RAM
- **디스크**: 500MB 여유 공간
- **인터넷**: 안정적인 연결 (Supabase 연동 테스트)

#### 클린 테스트 환경
```bash
# 기존 앱 데이터 삭제 (클린 테스트)
# AppData 경로: C:\Users\{사용자명}\AppData\Roaming\pixelbooster

# PowerShell
Remove-Item -Recurse -Force "$env:APPDATA\pixelbooster"

# 레지스트리 정리 (선택 사항)
# HKEY_CURRENT_USER\Software\pixelbooster
```

### 3. 테스트 데이터 준비

```bash
# 테스트용 이미지 파일 준비
# - JPG: 5개 (1-5MB)
# - PNG: 5개 (1-5MB)
# - GIF: 3개 (100KB-1MB)
# - TIFF: 2개 (5-10MB)
# - BMP: 2개 (1-3MB)

# 테스트 폴더 구조 예시:
test-images/
├── jpg/ (5개 파일)
├── png/ (5개 파일)
├── gif/ (3개 파일)
├── tiff/ (2개 파일)
└── bmp/ (2개 파일)
```

---

## 기능별 테스트 시나리오

### 1. 설치 및 첫 실행

#### 테스트 1.1: 설치 프로세스
- [ ] **설치 파일 실행**: `픽셀부스터 Setup 0.1.0.exe` 더블 클릭
- [ ] **설치 경로 선택**: 기본 경로 또는 사용자 지정 경로
- [ ] **바로가기 생성**: 데스크톱 및 시작 메뉴 바로가기 확인
- [ ] **설치 완료**: 에러 없이 완료
- [ ] **첫 실행**: 설치 후 자동 실행 또는 수동 실행

**예상 결과**:
- 설치 과정 중 에러 없음
- 앱 정상 실행
- 로그인 화면 또는 메인 화면 표시

#### 테스트 1.2: 첫 실행 UI 확인
- [ ] **윈도우 크기**: 최소 800x600, 최대화 가능
- [ ] **UI 로딩**: 모든 UI 요소 정상 표시
- [ ] **언어 설정**: 시스템 언어 자동 감지 (한국어/영어)
- [ ] **언어 전환**: 언어 전환 버튼 작동 확인

---

### 2. 인증 시스템

#### 테스트 2.1: 회원가입
- [ ] **회원가입 버튼**: "회원가입" 버튼 클릭
- [ ] **이메일 입력**: 유효한 이메일 주소 입력
- [ ] **비밀번호 입력**: 최소 6자 이상 입력
- [ ] **비밀번호 확인**: 동일한 비밀번호 입력
- [ ] **회원가입 제출**: "회원가입" 버튼 클릭
- [ ] **이메일 인증**: Supabase에서 이메일 확인 메일 수신

**예상 결과**:
- 회원가입 성공 메시지
- 이메일 인증 안내 메시지
- 로그인 화면으로 자동 이동

**에러 케이스**:
- [ ] **중복 이메일**: "이미 사용 중인 이메일입니다" 에러 메시지
- [ ] **잘못된 이메일**: "유효하지 않은 이메일 형식입니다" 에러 메시지
- [ ] **비밀번호 불일치**: "비밀번호가 일치하지 않습니다" 에러 메시지

#### 테스트 2.2: 로그인
- [ ] **로그인 버튼**: "로그인" 버튼 클릭
- [ ] **이메일 입력**: 등록된 이메일 주소 입력
- [ ] **비밀번호 입력**: 올바른 비밀번호 입력
- [ ] **로그인 제출**: "로그인" 버튼 클릭
- [ ] **기기 인증**: 자동 기기 ID 생성 및 등록

**예상 결과**:
- 로그인 성공
- 사용자 이메일 헤더에 표시
- 구독 등급 표시 (Free/Basic/Pro)
- 메인 변환 화면으로 이동

**에러 케이스**:
- [ ] **잘못된 이메일**: "등록되지 않은 이메일입니다" 에러 메시지
- [ ] **잘못된 비밀번호**: "비밀번호가 올바르지 않습니다" 에러 메시지
- [ ] **기기 한도 초과**: 기기 한도 초과 모달 표시 (Free: 1대, Basic: 2대, Pro: 5대)

#### 테스트 2.3: 기기 인증
- [ ] **기기 ID 생성**: 로그인 시 자동 생성 (SHA-256 해시)
- [ ] **기기 등록**: registered_devices 테이블에 자동 등록
- [ ] **기기 한도 확인**: 등급별 기기 한도 검증
- [ ] **기기 한도 초과**: 한도 초과 시 DeviceLimitModal 표시

**예상 결과**:
- 기기 등록 성공
- 로그인 완료
- 기기 한도 초과 시 모달 표시 및 업그레이드 안내

---

### 3. 이미지 변환 기능

#### 테스트 3.1: 파일 선택 (드래그 앤 드롭)
- [ ] **파일 드래그**: 이미지 파일 5개를 드롭존에 드래그
- [ ] **파일 표시**: 선택된 파일 목록 표시
- [ ] **파일 정보**: 파일명, 크기, 포맷 표시
- [ ] **파일 제거**: 개별 파일 제거 버튼 작동

**예상 결과**:
- 모든 파일 정상 표시
- 파일 정보 정확함
- 파일 제거 기능 작동

#### 테스트 3.2: 파일 선택 (다이얼로그)
- [ ] **파일 선택 버튼**: "파일 선택" 버튼 클릭
- [ ] **다이얼로그 표시**: 파일 선택 다이얼로그 표시
- [ ] **다중 선택**: 여러 파일 선택 가능
- [ ] **파일 추가**: 선택된 파일 목록에 추가

**예상 결과**:
- 다이얼로그 정상 작동
- 다중 선택 가능
- 파일 목록에 추가됨

#### 테스트 3.3: 변환 설정
- [ ] **출력 포맷 선택**: WebP, AVIF, JPG, PNG 선택 가능
- [ ] **품질 조절**: 슬라이더로 0-100% 조절
- [ ] **압축 레벨**: 슬라이더로 0-9 조절
- [ ] **리사이즈 옵션**: 너비/높이 입력, 종횡비 유지
- [ ] **빠른 프리셋**: "빠른 변환", "균형잡힌", "최고 품질" 프리셋 선택

**예상 결과**:
- 모든 설정 정상 작동
- 프리셋 선택 시 자동 설정 적용
- 설정 값 실시간 반영

#### 테스트 3.4: 구독 등급별 제한
- [ ] **Free 등급**: WebP만 선택 가능, 배치 크기 5개 제한
- [ ] **Basic 등급**: WebP, AVIF 선택 가능, 배치 크기 15개 제한
- [ ] **Pro 등급**: 모든 포맷 선택 가능, 무제한 배치

**예상 결과**:
- 등급별 제한 정확히 작동
- 제한 초과 시 에러 메시지 표시
- 업그레이드 안내 표시

#### 테스트 3.5: 변환 실행
- [ ] **출력 폴더 선택**: "출력 폴더 선택" 버튼 클릭
- [ ] **변환 시작**: "변환 시작" 버튼 클릭
- [ ] **진행 상태 표시**: 실시간 진행률 표시 (0-100%)
- [ ] **개별 파일 상태**: 각 파일별 상태 표시 (대기, 처리 중, 완료, 실패)
- [ ] **변환 완료**: 모든 파일 변환 완료

**예상 결과**:
- 변환 프로세스 정상 작동
- 진행 상태 실시간 업데이트
- 변환 완료 알림
- 출력 파일 생성 확인

#### 테스트 3.6: 성능 검증
- [ ] **병렬 처리**: MAX_CONCURRENT=4 동시 처리
- [ ] **처리 속도**: 1MB 이미지 기준 1-3초 이내
- [ ] **압축률**: WebP 기준 30-50% 압축
- [ ] **메모리 사용**: 안정적인 메모리 사용 (500MB 이하)

**예상 결과**:
- 병렬 처리 정상 작동
- 처리 속도 목표치 달성
- 압축률 목표치 달성

---

### 4. 백업 시스템

#### 테스트 4.1: 자동 백업
- [ ] **변환 전 백업**: 변환 시작 전 원본 파일 자동 백업
- [ ] **백업 폴더 생성**: `backup/YYYY-MM-DD/` 날짜별 폴더 생성
- [ ] **백업 파일 저장**: `{filename}_{timestamp}.{ext}` 형식으로 저장
- [ ] **메타데이터 생성**: `{filename}_{timestamp}.{ext}.json` 메타데이터 파일 생성
- [ ] **해시 검증**: SHA-256 해시 생성 및 저장

**예상 결과**:
- 백업 폴더 자동 생성
- 백업 파일 정상 저장
- 메타데이터 정확히 생성

#### 테스트 4.2: 백업 조회 (BackupViewer)
- [ ] **백업 탭 이동**: "백업" 탭 클릭
- [ ] **백업 목록 표시**: 날짜별 백업 목록 표시
- [ ] **통계 카드**: 총 백업, 활성, 복원, 사용 공간 표시
- [ ] **필터링**: 날짜 및 상태별 필터링
- [ ] **정렬**: 날짜, 크기, 상태별 정렬

**예상 결과**:
- 백업 목록 정확히 표시
- 통계 정확함
- 필터링 및 정렬 작동

#### 테스트 4.3: 백업 복원
- [ ] **복원 버튼**: 백업 항목의 "복원" 버튼 클릭
- [ ] **복원 확인**: 복원 확인 모달 표시
- [ ] **복원 실행**: 원본 경로로 파일 복원
- [ ] **복원 완료**: 복원 완료 알림
- [ ] **상태 업데이트**: 백업 상태 "restored"로 변경

**예상 결과**:
- 파일 정상 복원
- 원본 파일 덮어쓰기 성공
- 상태 업데이트됨

#### 테스트 4.4: 백업 삭제
- [ ] **삭제 버튼**: 백업 항목의 "삭제" 버튼 클릭
- [ ] **삭제 확인**: 삭제 확인 모달 표시
- [ ] **삭제 실행**: 백업 파일 및 메타데이터 삭제
- [ ] **삭제 완료**: 삭제 완료 알림
- [ ] **목록 업데이트**: 백업 목록에서 제거

**예상 결과**:
- 백업 파일 정상 삭제
- 메타데이터 삭제됨
- 목록에서 제거됨

---

### 5. 로그 시스템

#### 테스트 5.1: 자동 로그 기록
- [ ] **변환 후 로그**: 변환 완료 후 자동 로그 기록
- [ ] **Excel 파일 생성**: `logs/YYYY-MM-DD.xlsx` 파일 생성
- [ ] **작업 기록 시트**: 13개 컬럼으로 작업 기록
- [ ] **통계 시트**: 총 파일 수, 성공률, 압축률 등 통계

**예상 결과**:
- Excel 파일 정상 생성
- 작업 기록 정확히 저장
- 통계 정확히 계산됨

#### 테스트 5.2: 로그 조회 (LogViewer)
- [ ] **로그 탭 이동**: "로그" 탭 클릭
- [ ] **로그 목록 표시**: 날짜별 로그 목록 표시
- [ ] **통계 카드**: 총 파일, 성공률, 압축률, 절약 용량 표시
- [ ] **필터링**: 날짜 범위 및 포맷별 필터링
- [ ] **정렬**: 날짜, 크기, 압축률별 정렬

**예상 결과**:
- 로그 목록 정확히 표시
- 통계 정확함
- 필터링 및 정렬 작동

#### 테스트 5.3: Excel 로그 파일 열기
- [ ] **Excel 파일 위치**: `logs/` 폴더 확인
- [ ] **파일 열기**: Excel로 파일 열기
- [ ] **작업 기록 시트**: 13개 컬럼 데이터 확인
- [ ] **통계 시트**: 통계 데이터 확인
- [ ] **하이퍼링크**: 파일 경로 하이퍼링크 작동

**예상 결과**:
- Excel 파일 정상 열림
- 데이터 정확히 표시
- 하이퍼링크 작동

---

### 6. 어필리에이트 시스템

#### 테스트 6.1: 추적 링크 생성
- [ ] **어필리에이트 탭**: "어필리에이트" 탭 클릭
- [ ] **추적 링크 생성**: "추적 링크 생성" 버튼 클릭
- [ ] **링크 표시**: 8자 랜덤 코드 링크 표시
- [ ] **링크 복사**: "복사" 버튼 클릭하여 클립보드 복사
- [ ] **링크 공유**: 이메일 공유 버튼 작동

**예상 결과**:
- 추적 링크 정상 생성
- 링크 복사 성공
- 이메일 공유 작동

#### 테스트 6.2: 통계 조회
- [ ] **통계 카드**: 총 추천 수, 활성 구독자, 이번 달 수익, 총 누적 수익 표시
- [ ] **추천 내역**: 날짜, 이메일, 상태, 등급, 수익 표시
- [ ] **필터링**: 날짜 범위 및 상태별 필터링

**예상 결과**:
- 통계 정확히 표시
- 추천 내역 정확함
- 필터링 작동

---

### 7. 다국어 지원

#### 테스트 7.1: 언어 자동 감지
- [ ] **첫 실행**: 시스템 언어 자동 감지
- [ ] **한국어 시스템**: 한국어로 UI 표시
- [ ] **영어 시스템**: 영어로 UI 표시

**예상 결과**:
- 시스템 언어 정확히 감지
- UI 언어 자동 적용

#### 테스트 7.2: 언어 전환
- [ ] **언어 전환 버튼**: 헤더의 언어 전환 버튼 클릭
- [ ] **한국어 → 영어**: 모든 UI 텍스트 영어로 전환
- [ ] **영어 → 한국어**: 모든 UI 텍스트 한국어로 전환
- [ ] **설정 저장**: localStorage에 언어 설정 저장

**예상 결과**:
- 언어 전환 정상 작동
- 모든 UI 텍스트 정확히 번역됨
- 설정 저장 및 재시작 시 유지

---

### 8. 자동 업데이트

#### 테스트 8.1: 업데이트 확인
- [ ] **자동 확인**: 앱 시작 5초 후 자동 업데이트 확인
- [ ] **업데이트 없음**: "최신 버전입니다" 메시지 (개발 환경)
- [ ] **업데이트 있음**: "업데이트 가능" 알림 (프로덕션)

**예상 결과**:
- 업데이트 확인 정상 작동
- 메시지 정확히 표시

#### 테스트 8.2: 업데이트 다운로드 (프로덕션)
- [ ] **다운로드 버튼**: "업데이트 다운로드" 버튼 클릭
- [ ] **진행 상태**: 다운로드 진행률 표시
- [ ] **다운로드 완료**: 다운로드 완료 알림
- [ ] **설치 안내**: "재시작 시 자동 설치" 안내 메시지

**예상 결과**:
- 다운로드 정상 작동
- 진행 상태 정확히 표시
- 완료 알림 표시

#### 테스트 8.3: 업데이트 설치 (프로덕션)
- [ ] **앱 종료**: 앱 종료
- [ ] **자동 설치**: 백그라운드에서 자동 설치
- [ ] **재시작**: 앱 자동 재시작 (최신 버전)

**예상 결과**:
- 자동 설치 성공
- 재시작 후 최신 버전 확인

---

## 통합 테스트 체크리스트

### Phase 1: 설치 및 초기 설정
- [ ] 설치 파일 실행 및 완료
- [ ] 첫 실행 UI 정상 표시
- [ ] 언어 자동 감지 작동
- [ ] 언어 전환 기능 작동

### Phase 2: 인증 시스템
- [ ] 회원가입 성공
- [ ] 이메일 인증 (선택 사항)
- [ ] 로그인 성공
- [ ] 기기 인증 자동 등록
- [ ] 기기 한도 검증 작동

### Phase 3: 이미지 변환
- [ ] 파일 선택 (드래그 앤 드롭)
- [ ] 파일 선택 (다이얼로그)
- [ ] 변환 설정 조절
- [ ] 구독 등급별 제한 작동
- [ ] 변환 실행 및 완료
- [ ] 출력 파일 생성 확인

### Phase 4: 백업 시스템
- [ ] 자동 백업 작동
- [ ] 백업 목록 조회
- [ ] 백업 복원 성공
- [ ] 백업 삭제 성공

### Phase 5: 로그 시스템
- [ ] 자동 로그 기록
- [ ] 로그 목록 조회
- [ ] Excel 파일 열기 및 확인

### Phase 6: 어필리에이트
- [ ] 추적 링크 생성
- [ ] 통계 조회
- [ ] 추천 내역 확인

### Phase 7: 다국어
- [ ] 언어 자동 감지
- [ ] 언어 전환 작동

### Phase 8: 자동 업데이트
- [ ] 업데이트 확인 작동
- [ ] 다운로드 기능 (프로덕션)
- [ ] 자동 설치 (프로덕션)

---

## 자동화된 테스트

### Playwright E2E 테스트 (향후 구현)

```javascript
// tests/e2e/auth.spec.js

import { test, expect } from '@playwright/test';

test.describe('Authentication Flow', () => {
  test('should sign up successfully', async ({ page }) => {
    await page.goto('http://localhost:8080');

    // 회원가입 버튼 클릭
    await page.click('button:has-text("회원가입")');

    // 폼 입력
    await page.fill('input[type="email"]', 'test@example.com');
    await page.fill('input[type="password"]', 'password123');
    await page.fill('input[name="confirmPassword"]', 'password123');

    // 제출
    await page.click('button[type="submit"]');

    // 성공 메시지 확인
    await expect(page.locator('.success-message')).toBeVisible();
  });

  test('should login successfully', async ({ page }) => {
    await page.goto('http://localhost:8080');

    // 로그인 폼 입력
    await page.fill('input[type="email"]', 'test@example.com');
    await page.fill('input[type="password"]', 'password123');

    // 로그인
    await page.click('button:has-text("로그인")');

    // 로그인 성공 확인
    await expect(page.locator('.user-email')).toContainText('test@example.com');
  });
});
```

---

## 성능 테스트

### 1. 변환 성능 측정

```javascript
// 테스트 데이터
const testFiles = [
  { size: '1MB', count: 10 },
  { size: '5MB', count: 5 },
  { size: '10MB', count: 3 }
];

// 목표 성능
const performanceTargets = {
  '1MB': 3000,  // 3초 이내
  '5MB': 10000, // 10초 이내
  '10MB': 20000 // 20초 이내
};

// 병렬 처리
const MAX_CONCURRENT = 4; // 4개 동시 처리
```

### 2. 메모리 사용 측정

```bash
# Windows Task Manager
# - 앱 실행 중 메모리 사용량 확인
# - 목표: 500MB 이하 (idle 시)
# - 목표: 1GB 이하 (변환 중)

# 메모리 누수 테스트
# - 10개 파일 변환 × 10회 반복
# - 메모리 사용량 증가 없어야 함
```

### 3. CPU 사용 측정

```bash
# Windows Task Manager
# - 변환 중 CPU 사용률 확인
# - 목표: 50-70% (병렬 처리 시)
# - 목표: 0-5% (idle 시)
```

---

## 버그 리포트 템플릿

### 버그 리포트 작성 가이드

```markdown
## 버그 제목
[간결한 버그 설명]

## 환경
- **OS**: Windows 10/11 (64-bit)
- **앱 버전**: v0.1.0
- **구독 등급**: Free/Basic/Pro
- **브라우저** (해당 시): N/A

## 재현 단계
1. [단계 1]
2. [단계 2]
3. [단계 3]

## 예상 동작
[예상했던 결과]

## 실제 동작
[실제로 발생한 결과]

## 스크린샷
[스크린샷 첨부]

## 추가 정보
- 로그 파일: [로그 파일 경로]
- 에러 메시지: [에러 메시지 전체]
- 재현 빈도: 항상 / 가끔 / 한 번만
```

### 버그 우선순위

| 우선순위 | 설명 | 예시 |
|---------|------|------|
| **Critical** | 앱 크래시, 데이터 손실 | 변환 중 앱 종료 |
| **High** | 핵심 기능 작동 불가 | 로그인 불가, 변환 실패 |
| **Medium** | 일부 기능 작동 불가 | 백업 실패, 로그 미생성 |
| **Low** | UI 버그, 사소한 문제 | 텍스트 오타, 정렬 문제 |

---

## 테스트 완료 기준

### 최소 통과 기준 (Minimum Viable Product)
- [ ] 설치 및 첫 실행 성공 (100%)
- [ ] 인증 시스템 작동 (100%)
- [ ] 이미지 변환 작동 (100%)
- [ ] 백업 시스템 작동 (80%)
- [ ] 로그 시스템 작동 (80%)
- [ ] 다국어 전환 작동 (100%)

### 프로덕션 준비 기준
- [ ] 모든 핵심 기능 작동 (100%)
- [ ] 구독 등급별 제한 작동 (100%)
- [ ] 자동 업데이트 작동 (100%)
- [ ] 성능 목표 달성 (90%)
- [ ] 버그 없음 (Critical/High)
- [ ] 베타 테스트 완료 (10명 이상)

---

## 다음 단계

### 테스트 통과 후
1. **베타 테스트**: 소수 사용자 대상 테스트
2. **피드백 수집**: 버그 리포트 및 개선 제안 수집
3. **버그 수정**: Critical/High 우선순위 버그 수정
4. **정식 배포**: GitHub Release 배포

### 테스트 실패 시
1. **버그 리포트 작성**: 모든 버그 문서화
2. **우선순위 결정**: Critical/High 버그 먼저 수정
3. **수정 및 재테스트**: 버그 수정 후 재테스트
4. **반복**: 모든 테스트 통과 시까지 반복

---

**마지막 업데이트**: 2025-11-10
**작성자**: Claude Code
**다음 문서**: [베타 테스트 가이드](beta-testing-guide.md), [배포 전 체크리스트](deployment-checklist.md)
