# 배포 전 체크리스트

> 프로덕션 배포 전 필수 확인 사항 및 검증 가이드

**작성일**: 2025-11-10
**버전**: v0.1.0
**대상**: 프로덕션 배포 준비

---

## 📋 목차

1. [빌드 준비](#빌드-준비)
2. [코드 품질 검증](#코드-품질-검증)
3. [기능 테스트](#기능-테스트)
4. [보안 검증](#보안-검증)
5. [성능 검증](#성능-검증)
6. [문서 검증](#문서-검증)
7. [배포 실행](#배포-실행)
8. [배포 후 검증](#배포-후-검증)

---

## 빌드 준비

### 1.1 버전 관리
- [ ] **package.json 버전 업데이트**
  ```json
  {
    "version": "0.1.0"  // 현재 버전 확인
  }
  ```
- [ ] **CHANGELOG.md 작성**
  - 새로운 기능 목록
  - 버그 수정 목록
  - 주요 변경사항 (Breaking Changes)
- [ ] **Git 태그 생성**
  ```bash
  git tag v0.1.0
  git push origin v0.1.0
  ```

### 1.2 환경 변수 확인
- [ ] **.env 파일 존재 확인**
  ```bash
  VITE_SUPABASE_URL=https://yqkfgwzbxeliusukxigy.supabase.co
  VITE_SUPABASE_ANON_KEY=eyJh...
  ```
- [ ] **.env 파일 .gitignore 포함 확인**
- [ ] **환경 변수 값 유효성 검증**
  - Supabase URL 접근 가능
  - Anon Key 유효성 확인

### 1.3 아이콘 파일 준비
- [ ] **Windows 아이콘 (build/icon.ico)**
  - 크기: 256x256
  - 포맷: ICO
  - 다중 해상도: 16, 32, 48, 64, 128, 256
- [ ] **macOS 아이콘 (build/icon.icns)** (선택 사항)
  - 크기: 512x512
  - 포맷: ICNS
- [ ] **Linux 아이콘 (build/icon.png)** (선택 사항)
  - 크기: 512x512
  - 포맷: PNG

### 1.4 의존성 확인
- [ ] **npm install 실행**
  ```bash
  npm install
  ```
- [ ] **보안 취약점 확인**
  ```bash
  npm audit
  # Critical/High 취약점 없어야 함
  ```
- [ ] **의존성 버전 확인**
  ```bash
  npm outdated
  # 주요 패키지 최신 버전 확인
  ```

---

## 코드 품질 검증

### 2.1 TypeScript 컴파일
- [ ] **Main Process 컴파일**
  ```bash
  npm run compile:main
  # 에러 0개 확인
  ```
- [ ] **컴파일 결과물 확인**
  ```bash
  # client/main.js 생성 확인
  # client/preload.js 생성 확인
  ```

### 2.2 Webpack 빌드
- [ ] **Production 빌드 실행**
  ```bash
  npm run build
  # Webpack 빌드 성공 확인
  ```
- [ ] **빌드 결과물 확인**
  ```bash
  # client/dist/ 폴더 생성 확인
  # index.html, main.js, vendors.js 생성 확인
  ```
- [ ] **빌드 사이즈 확인**
  ```bash
  # main.js: < 1MB
  # vendors.js: < 5MB
  # 총 크기: < 10MB
  ```

### 2.3 Electron Builder 빌드
- [ ] **Windows 빌드 실행**
  ```bash
  npm run build:win
  # 빌드 성공 확인
  ```
- [ ] **빌드 결과물 확인**
  ```bash
  cd dist-electron
  dir
  # 픽셀부스터 Setup 0.1.0.exe (설치 파일)
  # latest.yml (자동 업데이트 메타데이터)
  # win-unpacked/ (압축 해제된 실행 파일)
  ```
- [ ] **설치 파일 크기 확인**
  ```bash
  # 픽셀부스터 Setup 0.1.0.exe: < 100MB
  ```

### 2.4 코드 정적 분석 (선택 사항)
- [ ] **ESLint 실행** (설정 시)
  ```bash
  npx eslint client/src --ext .js,.jsx,.ts,.tsx
  # 에러 0개 확인
  ```
- [ ] **Prettier 실행** (설정 시)
  ```bash
  npx prettier --check client/src
  # 포맷팅 확인
  ```

---

## 기능 테스트

### 3.1 설치 테스트
- [ ] **설치 파일 실행**
  - 더블 클릭으로 설치 시작
  - 설치 경로 선택 가능
  - 바로가기 생성 확인
- [ ] **설치 완료 확인**
  - 에러 없이 설치 완료
  - 프로그램 및 기능에 등록 확인
  - 시작 메뉴에 아이콘 표시

### 3.2 첫 실행 테스트
- [ ] **앱 실행**
  - 더블 클릭 또는 바로가기로 실행
  - 윈도우 정상 표시 (800x600 이상)
  - UI 모든 요소 로딩 완료
- [ ] **언어 자동 감지**
  - 시스템 언어 자동 감지
  - 한국어/영어 UI 표시
- [ ] **언어 전환**
  - 언어 전환 버튼 작동 확인
  - 모든 UI 텍스트 번역 확인

### 3.3 인증 시스템 테스트
- [ ] **회원가입**
  - 유효한 이메일로 회원가입 성공
  - 에러 메시지 정확히 표시
  - 중복 이메일 검증 작동
- [ ] **로그인**
  - 등록된 계정으로 로그인 성공
  - 기기 인증 자동 등록
  - 사용자 정보 헤더에 표시
- [ ] **기기 한도 검증**
  - Free: 1대 제한 작동
  - Basic: 2대 제한 작동
  - Pro: 5대 제한 작동
  - 한도 초과 시 모달 표시

### 3.4 이미지 변환 테스트
- [ ] **파일 선택**
  - 드래그 앤 드롭 작동
  - 파일 선택 다이얼로그 작동
  - 다중 파일 선택 가능
- [ ] **변환 설정**
  - 모든 포맷 선택 가능 (WebP, AVIF, JPG, PNG)
  - 품질 및 압축 레벨 조절 가능
  - 빠른 프리셋 작동
- [ ] **변환 실행**
  - 변환 시작 버튼 작동
  - 진행 상태 실시간 표시
  - 변환 완료 알림
  - 출력 파일 생성 확인
- [ ] **구독 등급별 제한**
  - Free: WebP만 사용 가능
  - Basic: WebP, AVIF 사용 가능
  - Pro: 모든 포맷 사용 가능
  - 배치 크기 제한 작동

### 3.5 백업 시스템 테스트
- [ ] **자동 백업**
  - 변환 전 원본 파일 자동 백업
  - backup/ 폴더 생성 확인
  - 메타데이터 파일 생성 확인
- [ ] **백업 조회**
  - BackupViewer 탭 이동
  - 백업 목록 정확히 표시
  - 통계 카드 정확함
- [ ] **백업 복원**
  - 복원 버튼 작동
  - 파일 정상 복원
  - 상태 업데이트됨
- [ ] **백업 삭제**
  - 삭제 버튼 작동
  - 파일 및 메타데이터 삭제
  - 목록에서 제거됨

### 3.6 로그 시스템 테스트
- [ ] **자동 로그 기록**
  - 변환 완료 후 자동 로그 기록
  - Excel 파일 생성 확인
  - 작업 기록 시트 데이터 확인
  - 통계 시트 데이터 확인
- [ ] **로그 조회**
  - LogViewer 탭 이동
  - 로그 목록 정확히 표시
  - 통계 카드 정확함
  - 필터링 및 정렬 작동

### 3.7 어필리에이트 시스템 테스트
- [ ] **추적 링크 생성**
  - 추적 링크 생성 버튼 작동
  - 8자 랜덤 코드 생성
  - 링크 복사 기능 작동
- [ ] **통계 조회**
  - 통계 카드 정확히 표시
  - 추천 내역 정확함
  - 필터링 작동

### 3.8 자동 업데이트 테스트 (프로덕션)
- [ ] **업데이트 확인**
  - 앱 시작 5초 후 자동 확인
  - 업데이트 없음 메시지 (현재)
- [ ] **업데이트 다운로드** (향후)
  - 다운로드 버튼 작동
  - 진행 상태 표시
  - 다운로드 완료 알림
- [ ] **자동 설치** (향후)
  - 앱 종료 시 자동 설치
  - 재시작 후 최신 버전 확인

---

## 보안 검증

### 4.1 환경 변수 보안
- [ ] **하드코딩 확인**
  ```bash
  # 소스 코드에서 민감한 정보 검색
  grep -r "yqkfgwzbxeliusukxigy" client/src
  # 결과 없어야 함
  ```
- [ ] **.env 파일 .gitignore 확인**
  ```bash
  cat .gitignore | grep .env
  # .env 포함 확인
  ```
- [ ] **환경 변수 사용 확인**
  ```javascript
  // client/src/services/auth-manager.ts
  const supabaseUrl = process.env.VITE_SUPABASE_URL;
  const supabaseKey = process.env.VITE_SUPABASE_ANON_KEY;
  ```

### 4.2 API 키 보안
- [ ] **Supabase Anon Key 검증**
  - Anon Key만 사용 (Service Key 사용 금지)
  - RLS 정책 활성화 확인
- [ ] **API 엔드포인트 보안**
  - Edge Functions CORS 설정 확인
  - 인증 토큰 검증 확인

### 4.3 데이터 암호화
- [ ] **SecureStorage 암호화 확인**
  ```typescript
  // client/src/services/secure-storage.ts
  // machine-id 기반 암호화 키 생성 확인
  // electron-store 암호화 활성화 확인
  ```
- [ ] **토큰 저장 보안**
  - JWT 토큰 암호화 저장 확인
  - 평문 저장 금지 확인

### 4.4 입력 검증
- [ ] **이메일 검증**
  - 유효한 이메일 형식 검증
  - SQL Injection 방어
- [ ] **파일 경로 검증**
  - 상대 경로 검증
  - 디렉토리 트래버설 방어
- [ ] **파일 타입 검증**
  - 지원 포맷만 허용
  - 확장자 검증

---

## 성능 검증

### 5.1 변환 성능
- [ ] **처리 속도**
  - 1MB 이미지: < 3초
  - 5MB 이미지: < 10초
  - 10MB 이미지: < 20초
- [ ] **병렬 처리**
  - MAX_CONCURRENT = 4 확인
  - 4개 파일 동시 처리 확인
- [ ] **압축률**
  - WebP: 30-50% 압축 확인
  - AVIF: 40-60% 압축 확인

### 5.2 메모리 사용
- [ ] **Idle 시 메모리**
  - Task Manager 확인
  - 목표: < 500MB
- [ ] **변환 중 메모리**
  - Task Manager 확인
  - 목표: < 1GB
- [ ] **메모리 누수 테스트**
  - 10개 파일 × 10회 반복 변환
  - 메모리 사용량 증가 없어야 함

### 5.3 CPU 사용
- [ ] **Idle 시 CPU**
  - Task Manager 확인
  - 목표: 0-5%
- [ ] **변환 중 CPU**
  - Task Manager 확인
  - 목표: 50-70%

### 5.4 디스크 사용
- [ ] **앱 설치 크기**
  - 프로그램 및 기능 확인
  - 목표: < 200MB
- [ ] **캐시 크기**
  - AppData 폴더 확인
  - 목표: < 100MB

---

## 문서 검증

### 6.1 README.md
- [ ] **프로젝트 소개**
  - 프로젝트 설명 최신화
  - 주요 기능 목록 업데이트
- [ ] **설치 가이드**
  - 설치 방법 명확함
  - 시스템 요구사항 명시
- [ ] **사용 가이드**
  - 기본 사용법 설명
  - 스크린샷 포함

### 6.2 CHANGELOG.md
- [ ] **버전 정보**
  - v0.1.0 섹션 추가
  - 릴리스 날짜 명시
- [ ] **변경 사항**
  - Added: 새로운 기능 목록
  - Changed: 변경된 기능 목록
  - Fixed: 수정된 버그 목록
  - Removed: 제거된 기능 목록

### 6.3 사용자 가이드
- [ ] **시작하기 가이드**
  - 설치 방법
  - 첫 실행 설정
- [ ] **기능별 가이드**
  - 이미지 변환 가이드
  - 백업 및 복원 가이드
  - 로그 조회 가이드
- [ ] **FAQ**
  - 자주 묻는 질문
  - 문제 해결 방법

### 6.4 개발자 문서
- [ ] **CLAUDE.md 최신화**
  - 프로젝트 상태 업데이트
  - 완료된 Phase 표시
- [ ] **task.md 최신화**
  - 진행률 100% 확인
  - 다음 단계 업데이트
- [ ] **COMMIT_HISTORY.md**
  - 최신 커밋 기록
  - 롤백 가이드 업데이트

---

## 배포 실행

### 7.1 Git 저장소 정리
- [ ] **변경사항 커밋**
  ```bash
  git status
  git add .
  git commit -m "feat: v0.1.0 release preparation"
  ```
- [ ] **Git 태그 생성**
  ```bash
  git tag v0.1.0
  git push origin main
  git push origin v0.1.0
  ```

### 7.2 GitHub Release 생성
- [ ] **Release 페이지 이동**
  - https://github.com/thekadang/pixelbooster/releases
- [ ] **New Release 클릭**
- [ ] **릴리스 정보 입력**
  - Tag: v0.1.0
  - Title: 픽셀부스터 v0.1.0 (첫 릴리스)
  - Description: CHANGELOG.md 내용 복사
- [ ] **빌드 파일 업로드**
  ```
  dist-electron/픽셀부스터 Setup 0.1.0.exe
  dist-electron/latest.yml
  ```
- [ ] **Publish Release 클릭**

### 7.3 자동 업데이트 설정 확인
- [ ] **latest.yml 파일 확인**
  ```yaml
  version: 0.1.0
  files:
    - url: 픽셀부스터 Setup 0.1.0.exe
      sha512: ...
      size: ...
  path: 픽셀부스터 Setup 0.1.0.exe
  sha512: ...
  releaseDate: '2025-11-10T...'
  ```
- [ ] **GitHub Release URL 확인**
  - package.json에 올바른 저장소 URL 설정
  - publish.provider: "github" 확인

### 7.4 배포 공지 (선택 사항)
- [ ] **블로그 포스트 작성**
  - 릴리스 소개
  - 주요 기능 설명
  - 다운로드 링크
- [ ] **소셜 미디어 공지**
  - Twitter, Facebook 등
  - 릴리스 링크 공유

---

## 배포 후 검증

### 8.1 다운로드 테스트
- [ ] **GitHub Release 다운로드**
  - Release 페이지에서 다운로드
  - 파일 크기 확인
  - 파일 무결성 확인
- [ ] **설치 파일 실행**
  - 다운로드한 파일로 설치
  - 에러 없이 설치 완료

### 8.2 자동 업데이트 테스트
- [ ] **업데이트 확인**
  - 이전 버전 앱 실행
  - 자동 업데이트 확인 작동
  - "업데이트 가능" 알림 표시
- [ ] **업데이트 다운로드**
  - 다운로드 버튼 클릭
  - 진행 상태 표시
  - 다운로드 완료 알림
- [ ] **자동 설치**
  - 앱 종료
  - 백그라운드 자동 설치
  - 재시작 후 최신 버전 확인

### 8.3 사용자 피드백 수집
- [ ] **베타 테스터 모집** (10명 이상)
  - 다양한 Windows 버전 테스트
  - 다양한 하드웨어 환경 테스트
- [ ] **피드백 채널 오픈**
  - GitHub Issues
  - 이메일 지원
  - 디스코드/슬랙 커뮤니티
- [ ] **버그 리포트 수집**
  - 버그 리포트 템플릿 제공
  - 우선순위 분류
  - 수정 일정 수립

### 8.4 모니터링
- [ ] **Supabase 대시보드 확인**
  - 사용자 등록 수 확인
  - API 호출 횟수 확인
  - 에러 로그 확인
- [ ] **GitHub Analytics**
  - 다운로드 수 확인
  - 릴리스 조회 수 확인
- [ ] **사용자 통계**
  - 일별 활성 사용자
  - 이미지 변환 횟수
  - 구독 전환율

---

## 긴급 대응 계획

### 9.1 Critical 버그 발견 시
1. **즉시 조치**
   - GitHub Release를 Draft로 전환
   - 공식 공지 (다운로드 중단 요청)
2. **버그 수정**
   - Hot-fix 브랜치 생성
   - 버그 수정 및 테스트
3. **긴급 릴리스**
   - v0.1.1 패치 버전 릴리스
   - 자동 업데이트로 배포

### 9.2 보안 취약점 발견 시
1. **즉시 조치**
   - 릴리스 즉시 중단
   - 보안 공지 (CVE 등록)
2. **취약점 수정**
   - 보안 패치 개발
   - 보안 테스트
3. **긴급 릴리스**
   - 보안 패치 릴리스
   - 모든 사용자에게 업데이트 강제

### 9.3 롤백 계획
```bash
# 이전 버전으로 롤백
git checkout v0.0.9  # 이전 안정 버전
npm run build:win
# GitHub Release 업데이트
```

---

## 체크리스트 요약

### 배포 전 필수 확인 (Must Have)
- [ ] TypeScript 컴파일 성공 (0 errors)
- [ ] Webpack 빌드 성공
- [ ] Electron Builder 빌드 성공
- [ ] 설치 및 첫 실행 테스트 통과
- [ ] 인증 시스템 테스트 통과
- [ ] 이미지 변환 테스트 통과
- [ ] 보안 검증 통과 (환경 변수, API 키)
- [ ] README.md, CHANGELOG.md 최신화
- [ ] Git 태그 생성 및 푸시

### 배포 권장 확인 (Should Have)
- [ ] 백업 시스템 테스트 통과
- [ ] 로그 시스템 테스트 통과
- [ ] 성능 검증 통과 (메모리, CPU)
- [ ] 다국어 전환 테스트 통과
- [ ] 사용자 가이드 작성
- [ ] 베타 테스트 완료

### 배포 선택 확인 (Nice to Have)
- [ ] 어필리에이트 시스템 테스트
- [ ] 자동 업데이트 테스트 (프로덕션)
- [ ] 코드 정적 분석 (ESLint, Prettier)
- [ ] 블로그 포스트 작성
- [ ] 소셜 미디어 공지

---

## 다음 단계

### 배포 완료 후
1. **모니터링**: 사용자 통계 및 에러 로그 확인
2. **피드백 수집**: 베타 테스터 및 사용자 피드백 수집
3. **버그 수정**: Critical/High 버그 우선 수정
4. **다음 버전 계획**: v0.2.0 기능 계획 수립

### 실패 시
1. **문제 분석**: 실패 원인 파악
2. **수정**: 문제 해결
3. **재테스트**: 체크리스트 재확인
4. **재배포**: 수정 후 재배포

---

**마지막 업데이트**: 2025-11-10
**작성자**: Claude Code
**참고 문서**:
- [통합 테스트 가이드](testing-guide.md)
- [베타 테스트 가이드](beta-testing-guide.md)
- [빌드 프로세스](build-process.md)
- [자동 업데이트 가이드](auto-update.md)
